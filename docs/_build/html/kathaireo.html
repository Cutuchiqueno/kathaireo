

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>kathaireo Package &mdash; kathaireo  documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="kathaireo  documentation" href="index.html" />
    <link rel="next" title="commands Package" href="kathaireo.commands.html" />
    <link rel="prev" title="Welcome to kathaireo’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="kathaireo.commands.html" title="commands Package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to kathaireo’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">kathaireo  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="kathaireo-package">
<h1>kathaireo Package<a class="headerlink" href="#kathaireo-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">kathaireo</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-kathaireo.__init__"></span><div class="section" id="package-structure">
<h3>Package structure<a class="headerlink" href="#package-structure" title="Permalink to this headline">¶</a></h3>
<p><strong>kathaireo</strong> consists of three subpackages: <a class="reference internal" href="kathaireo.shell.html#module-kathaireo.shell" title="kathaireo.shell"><tt class="xref py py-mod docutils literal"><span class="pre">shell</span></tt></a> implements an interctive
command-line interface, including colorized output and autocompletion.
The <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands" title="kathaireo.commands"><tt class="xref py py-mod docutils literal"><span class="pre">commands</span></tt></a> package contains interpreter functionality like command recognition and
input value validation, and both syntax specifications and handler functions of default
commands. The <a class="reference internal" href="kathaireo.rdf.html#module-kathaireo.rdf" title="kathaireo.rdf"><tt class="xref py py-mod docutils literal"><span class="pre">rdf</span></tt></a> package puts a facade in front of the underlying RDF library,
<a class="reference external" href="https://github.com/RDFLib/rdflib">rdflib</a>, and provides additional information about the operating context it is used in,
like the identifiers given to open RDF graphs in an active shell session or lists of
resources used by graphs or their bound namespaces.</p>
</div>
<div class="section" id="shell-mode">
<h3>Shell mode<a class="headerlink" href="#shell-mode" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">shell</span></tt> subpackage implements a simple user interface based on
python standard library <a class="reference external" href="http://docs.python.org/2/library/readline.html">readline</a>, mostly because of the autocompletion feature.
Its module <a class="reference internal" href="kathaireo.shell.html#module-kathaireo.shell.prompt" title="kathaireo.shell.prompt"><tt class="xref py py-mod docutils literal"><span class="pre">shell.prompt</span></tt></a> echoes a prompt, reads and returns user input
and can display possibly resulting commands output using simple syntax
highlighting, provided by module <a class="reference internal" href="kathaireo.shell.html#module-kathaireo.shell.highlights" title="kathaireo.shell.highlights"><tt class="xref py py-mod docutils literal"><span class="pre">shell.highlights</span></tt></a> based on regular expressions.</p>
<p>An interactive interpreter can be started by calling
<a class="reference internal" href="kathaireo.shell.html#kathaireo.shell.run" title="kathaireo.shell.run"><tt class="xref py py-func docutils literal"><span class="pre">shell.run()</span></tt></a>. It will execute the default commands as defined in
the <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands" title="kathaireo.commands"><tt class="xref py py-mod docutils literal"><span class="pre">commands</span></tt></a> package (see below), but can also be equipped
with additional custom
commands, for which to use handler functions are needed to be implemented.
To write one of those, the <a class="reference internal" href="kathaireo.rdf.html#module-kathaireo.rdf" title="kathaireo.rdf"><tt class="xref py py-mod docutils literal"><span class="pre">rdf</span></tt></a> package might be useful.</p>
</div>
<div class="section" id="commands">
<h3>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands" title="kathaireo.commands"><tt class="xref py py-mod docutils literal"><span class="pre">commands</span></tt></a> subpackage is responsible for syntax definitions and
input interpretion. Its module <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.handlers" title="kathaireo.commands.handlers"><tt class="xref py py-mod docutils literal"><span class="pre">commands.handlers</span></tt></a> contains handler functions for
builtin commands like <tt class="docutils literal"><span class="pre">create</span> <span class="pre">&lt;graph&gt;</span></tt> or <tt class="docutils literal"><span class="pre">exit</span></tt>. For an explaination of
the ways in which custom commands can be defined,
see below. Builtin bindings of command syntaxes and handler functions are listed
in <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.stdcmd" title="kathaireo.commands.stdcmd"><tt class="xref py py-mod docutils literal"><span class="pre">commands.stdcmd</span></tt></a>, where lists of command aliases are assigned to
variables with the names as the command&#8217;s handler functions, properly declared
as such elsewhere. For the function <a class="reference internal" href="kathaireo.commands.html#kathaireo.commands.handlers.quit" title="kathaireo.commands.handlers.quit"><tt class="xref py py-func docutils literal"><span class="pre">commands.handlers.quit()</span></tt></a>, it looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">quit</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;exit&#39;</span><span class="p">,</span> <span class="s">&#39;:q&#39;</span><span class="p">,</span> <span class="s">&#39;quit&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Actually binding of these standard commands is done
by the <a class="reference internal" href="kathaireo.commands.html#kathaireo.commands.init" title="kathaireo.commands.init"><tt class="xref py py-func docutils literal"><span class="pre">commands.init()</span></tt></a> function, which is called on first import of
the <tt class="docutils literal"><span class="pre">commands</span></tt> module, but not before <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.handlers" title="kathaireo.commands.handlers"><tt class="xref py py-mod docutils literal"><span class="pre">commands.handlers</span></tt></a> has been
imported. That way, the builtin handler functions implemented by the latter
are already in the package namespace and binding of standard commands works
like just described. However, any attempt to extend the list in <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.stdcmd" title="kathaireo.commands.stdcmd"><tt class="xref py py-mod docutils literal"><span class="pre">commands.stdcmd</span></tt></a> to
bind handler functions implemented by foreign code (e.g. plugins)
is likely to fail.</p>
</div>
<div class="section" id="defining-commands">
<h3>Defining commands<a class="headerlink" href="#defining-commands" title="Permalink to this headline">¶</a></h3>
<p>Registration of new commands and their handlers goes like in
this (not really useful) example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">kathaireo</span> <span class="kn">import</span> <span class="n">commands</span><span class="p">,</span> <span class="n">rdf</span><span class="p">,</span> <span class="n">cmd_handler</span>

<span class="nd">@cmd_handler</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Handles the command `command` with syntax:</span>
<span class="sd">        `command &lt;param1&gt; &lt;param2&gt; &lt;title&gt;`&quot;&quot;&quot;</span>
        <span class="n">graphname</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;param1&#39;</span><span class="p">)</span>
        <span class="n">arg</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;param2&#39;</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;title&#39;</span><span class="p">)</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">rdf</span><span class="o">.</span><span class="n">get_graph</span><span class="p">(</span><span class="n">graphname</span><span class="p">)</span>
        <span class="n">resource</span> <span class="o">=</span> <span class="n">rdf</span><span class="o">.</span><span class="n">rdflib</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">URIRef</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">rdf</span><span class="o">.</span><span class="n">rdflib</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">Literal</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">resource</span><span class="p">,</span> <span class="n">rdf</span><span class="o">.</span><span class="n">rdflib</span><span class="o">.</span><span class="n">namespace</span><span class="o">.</span><span class="n">DC</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
</pre></div>
</div>
<p>The above example handler function is decorated by the
<tt class="xref py py-func docutils literal"><span class="pre">cmd_handler()</span></tt> decorator, pointing to the function
<a class="reference internal" href="kathaireo.commands.html#kathaireo.commands.register_handler" title="kathaireo.commands.register_handler"><tt class="xref py py-func docutils literal"><span class="pre">commands.register_handler()</span></tt></a>. Functions decorated
like this are automatically copied to the <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.handlers" title="kathaireo.commands.handlers"><tt class="xref py py-mod docutils literal"><span class="pre">commands.handlers</span></tt></a>
module namespace and registered for any command syntax defined
within their docstring like demonstrated. Instead of the
decorator, one might as well use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">syntax</span> <span class="o">=</span> <span class="s">&#39;command &lt;param1&gt; &lt;param2&gt; &lt;title&gt;&#39;</span>
<span class="n">commands</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">syntax</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span>
</pre></div>
</div>
<p>Like this, the kathaireo shell can easily be extended. Arguments can
be configured in a similar manner thanks to the <a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.arguments" title="kathaireo.commands.arguments"><tt class="xref py py-mod docutils literal"><span class="pre">commands.arguments</span></tt></a>
module.</p>
</div>
<div class="section" id="rdf-facade">
<h3>RDF facade<a class="headerlink" href="#rdf-facade" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
</div>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="kathaireo.commands.html">commands Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.commands.html#id1"><tt class="docutils literal"><span class="pre">commands</span></tt> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.arguments"><tt class="docutils literal"><span class="pre">arguments</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.handlers"><tt class="docutils literal"><span class="pre">handlers</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.commands.html#module-kathaireo.commands.stdcmd"><tt class="docutils literal"><span class="pre">stdcmd</span></tt> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kathaireo.rdf.html">rdf Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.rdf.html#id1"><tt class="docutils literal"><span class="pre">rdf</span></tt> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.rdf.html#module-kathaireo.rdf.namespaces"><tt class="docutils literal"><span class="pre">namespaces</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.rdf.html#module-kathaireo.rdf.remote"><tt class="docutils literal"><span class="pre">remote</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.rdf.html#module-kathaireo.rdf.storage"><tt class="docutils literal"><span class="pre">storage</span></tt> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kathaireo.shell.html">shell Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.shell.html#id1"><tt class="docutils literal"><span class="pre">shell</span></tt> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.shell.html#module-kathaireo.shell.highlights"><tt class="docutils literal"><span class="pre">highlights</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="kathaireo.shell.html#module-kathaireo.shell.prompt"><tt class="docutils literal"><span class="pre">prompt</span></tt> Module</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">kathaireo Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">kathaireo</span></tt> Package</a><ul>
<li><a class="reference internal" href="#package-structure">Package structure</a></li>
<li><a class="reference internal" href="#shell-mode">Shell mode</a></li>
<li><a class="reference internal" href="#commands">Commands</a></li>
<li><a class="reference internal" href="#defining-commands">Defining commands</a></li>
<li><a class="reference internal" href="#rdf-facade">RDF facade</a></li>
</ul>
</li>
<li><a class="reference internal" href="#subpackages">Subpackages</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to kathaireo&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="kathaireo.commands.html"
                        title="next chapter">commands Package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/kathaireo.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="kathaireo.commands.html" title="commands Package"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to kathaireo’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">kathaireo  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, J. Katzwinkel.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>